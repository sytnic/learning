## 005-Tools for working with JavaScript

Расширение для VS Code - Live Server от Ritwick Dey  
https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer  

## 006-Linting and formatting

Еще автор использует:  
- ESLint от Dirk Baeumer (теперь, видимо, от Microsoft)
- Prettier - Code formatter от Prettier

Оба требуют Node.js. Установить его глобально.

Далее в терминале VS Code в папке с упражнениями набрать для установки зависимостей локально для данной папки

    npm install

Также в настройках VS Code нужно набрать и убедиться, что галочка стоит напротив "Editor: Format On Save" - "Автоматическое форматирование во время сохранения". В поисковой строке настроек набрать `formatonsave`.

## 012-Modern JavaScript loading

При обычной загрузке JS-кода чтение HTML полностью останавливается для считывания JS, а затем - выполнения JS, и только потом продолжается считывание HTML.

Новые понятия, обозначающие загрузку Javascript-кода на страницу
- async (асинхронность) - интерпретация JS-кода происходит параллельно с рендерингом HTML, но на выполнение JS-кода всё ещё требуется время. Теперь считывание JS идёт параллельно с HTML, и только на время выполнения JS чтение HTML останавливается.
- defer (отсрочка) - браузер загружает JS параллельно во время рендеринга HTML, затем откладывает выполнение JS до завершения рендеринга HTML. Весь HTML считывается, параллельно считывается JS, и только после полного считывания HTML запускается на выполнение JS.

Для этих целей добавляется ключевое слово в тэг

    <script src="script.js" async></script>
    <script src="script.js" defer></script>

Скрипт нужно помещать в head документа с этими ключевыми словами.

## 013-JavaScript modules

Модули работают как подключаемые файлы. Из-за `type="module"` их выполнение откладывается до полной загрузки страницы. То есть он выполняются как с ключевым словом `defer`.

index.html
```html
    <script type="module" src="backpack.js"></script>
    <script type="module" src="script.js"></script>
```

backpack.js
```js
const backpack = {
 // ...
};

export default backpack;
```

script.js
```js
import backpack from "./backpack.js";

const markup = (backpack) => {
 // ...
};

```

Объект `backpack` при модульности доступен только для файла `script.js` и не может быть вызван в консоли браузера, т.к. он там недоступен.

> Важно!  
Модули JS работают только на сервере (локальном или онлайн). Модули не работают, если страницу вызывать из проводника. В этом случае срабатывает ошибка "CORS request not HTTP".  
https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CORS/Errors/CORSRequestNotHttp

---