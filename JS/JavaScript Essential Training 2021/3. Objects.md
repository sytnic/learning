## 015-JavaScript objects The code version

Пример объекта

```js
const backpack = {
  name: "Everyday Backpack",
  volume: 30,
  color: "grey",
  pocketNum: 15,
  // вложенный объект:
  strapLength: {
    left: 26,
    right: 26,
  },
  lidOpen: false,
  toggleLid: function (lidStatus) {
    this.lidOpen = lidStatus;
  },
  newStrapLength: function (lengthLeft, lengthRight) {
    this.strapLength.left = lengthLeft;
    this.strapLength.right = lengthRight;
  },
};
```

## 018-Accessing objects

В консоли F12, объект и его свойства вызываются так

    backpack
    backpack.pocketNum

Чтобы получать вывод в консоли, не печатая в консоли, а сохранив инструкцию в js-файле, нужно в js-файле набрать:

```js
    console.log(backpack);
```

То же самое с пояснительным комментарием:

```js
    console.log("The backpack object:", backpack);
```

## 019-Accessing object properties

Доступ к свойствам и методам бывает через точки или квадратные скобки.

```js
    // точки
    console.log("The pocketNum value:", backpack.pocketNum);
    console.log("Strap length L:", backpack.strapLength.left);

    // скобки
    console.log("The pocketNum value:", backpack["pocketNum"]);
```

Использование переменной в скобочной нотации - позволяет обращаться к свойствам через переменные.  

```js
    var query = "pocketNum";
    console.log("The pocketNum value:", backpack[query]);
```

Если используются не соответствующие стандарту свойства, например, неправильно сгенерированные генераторами кода (написанные через дефис или начинающиеся с цифры), то доступ к этим свойствам можно получить только через скобочную нотацию:

```js
console.log("The pocketNum value:", backpack["property-hyphen"]);
```

## 021-Object methods

Методы как функциональные выражения в объекте:

```js
toggleLid: function (lidStatus) {
    this.lidOpen = lidStatus;
  },
```

Без `function` в скрипте. Используется реже.  

```js
toggleLid(lidStatus) {
    this.lidOpen = lidStatus;
  },
```

Вызов функции в консоли F12

    backpack.toggleLid(true)

Вызов функции в скрипте

```js
    console.log("Left before:", backpack.strapLength.left);

    // вызов функции:  
    backpack.newStrapLength(10, 15);

    console.log("Left after:", backpack.strapLength.left);
```

## 023-Classes Object blueprints

Классы хорошо подходят для применения модулей. К импортируемым (первым заглавным) модулям нет доступа из браузера, и обычно не требуется прямой доступ к классам, только - к их объектам (которые могут присутствовать в последующих, последних модулях, к которым уже есть).

Классы объявляются одним из двух способов. Они работают идентично:  

    * Creating classes:
    *
    * Class declaration: class Name {}
    * Class expression:  const Name = class {}

Пример класса

```js
class Backpack {
  constructor(
    // Defines parameters:
    name,
    volume,
    color,
    pocketNum,
    strapLengthL,
    strapLengthR,
    lidOpen
  ) {
    // Define properties:
    this.name = name;
    this.volume = volume;
    this.color = color;
    this.pocketNum = pocketNum;
    this.strapLength = {
      left: strapLengthL,
      right: strapLengthR,
    };
    this.lidOpen = lidOpen;
  }

  // Add methods like normal functions:
  toggleLid(lidStatus) {
    this.lidOpen = lidStatus;
  }
  newStrapLength(lengthLeft, lengthRight) {
    this.strapLength.left = lengthLeft;
    this.strapLength.right = lengthRight;
  }
}

export default Backpack;
```

Пример объекта

```js
import Backpack from "./Backpack.js";

const everydayPack = new Backpack(
  "Everyday Backpack",
  30,
  "grey",
  15,
  26,
  26,
  false
);

console.log("The everydayPack object:", everydayPack);
console.log("The pocketNum value:", everydayPack.pocketNum);

```

Этот пример в HTML

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Classes</title>
    <script type="module" src="Backpack.js"></script>
    <script type="module" src="script.js"></script>
  </head>
  <body></body>
</html>
```

## 024-Object constructors

Еще один способ создавать объекты (помимо классов) - с помощью функции конструктора объектов.

```js
/**
 * Create an object constructor function for the Backpack object type.
 * @link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new
 */

function Backpack(
  name,
  volume,
  color,
  pocketNum,
  strapLengthL,
  strapLengthR,
  lidOpen
) {
  this.name = name;
  this.volume = volume;
  this.color = color;
  this.pocketNum = pocketNum;
  this.strapLength = {
    left: strapLengthL,
    right: strapLengthR,
  };
  this.lidOpen = lidOpen;
  this.toggleLid = function (lidStatus) {
    this.lidOpen = lidStatus;
  };
  this.newStrapLength = function (lengthLeft, lengthRight) {
    this.strapLength.left = lengthLeft;
    this.strapLength.right = lengthRight;
  };
}

const everydayPack = new Backpack(
  "Everyday Backpack",
  30,
  "grey",
  15,
  26,
  26,
  false
);
```

Тем не менее, классы более гибкие и являются более предпочтительным способом создания объектов. Функции конструктора объектов часто встречаются в старом коде, потому что раньше не было классов в JS.   

## 026-Global objects

Существуют встроенные объекты в JS. Их методы можно сразу вызывать в браузере или использовать в скриптах.  

https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects  

Пример метода созданного объекта, использующего встроенные объекты в себе.

```js
// File Backpack.js

class Backpack {
  constructor(
    // ...
    dateAcquired
  ) {
    // ...
    this.dateAcquired = dateAcquired;
  }
  backpackAge() {
    let now = new Date();
    let acquired = new Date(this.dateAcquired);
    let elapsed = now - acquired; // elapsed time in milliseconds
    let daysSinceAcquired = Math.floor(elapsed / (1000 * 3600 * 24));
    return daysSinceAcquired;
  }
}

export default Backpack;
```

Пример вызова этого метода

```js
// File script.js

import Backpack from "./Backpack.js";

const everydayPack = new Backpack(
  // ...
  "December 5, 2018 15:00:00 PST"
);

console.log("Date acquired:", everydayPack.dateAcquired);
```

## 028-Solution Create a new object type

index.html

```html
<!DOCTYPE html>
<html lang="en">
  <head>    
    
    <script type="module" src="Book.js"></script>
    <script type="module" src="script.js"></script>
  </head>
  <body></body>
</html>

```

Book.js

```js
class Book {
  constructor(
    title,
    author,
    ISBN,
    pubYear,
    pageNumber,
    currentPage,
    readStatus
  ) {
    this.title = title;
    this.author = author;
    this.ISBN = ISBN;
    this.pubYear = pubYear;
    this.pageNumber = pageNumber;
    this.currentPage = currentPage;
    this.readStatus = readStatus;
  }
  updateCurrentPage(newCurrentPage) {
    this.currentPage = newCurrentPage;
  }
  updateReadStatus(newReadStatus) {
    this.readStatus = newReadStatus;
  }
}

export default Book;
```

script.js с примером объекта

```js

import Book from "./Book.js";

// Book param order: title, author, ISBN, pubYear, pageNumber, currentPage, readStatus
const surveillanceCapitalism = new Book(
  "The Age of Surveillance Capitalism",
  "Shoshana Zuboff",
  9781610395694,
  "2019",
  691,
  691,
  "Finished"
);
console.log(surveillanceCapitalism);

```

Пример вывода в браузере по F12 (js-модули работают только на сервере (локальном или нет))

```js
Book
  ISBN: 9781610395694
  author: "Shoshana Zuboff"
  currentPage: 691
  pageNumber: 691
  pubYear: "2019"
  readStatus: "Finished"
  title: "The Age of Surveillance Capitalism"
  [[Prototype]]: Object
```

---